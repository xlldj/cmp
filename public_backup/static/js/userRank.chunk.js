webpackJsonp([74],{1391:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(5),s=n(c),u=a(144),d=a(324),f=n(d),m=a(331),E=(n(m),a(448)),h=n(E),p=[{newly:0,schoolId:0,schoolName:"string",total:0}],T={data:p,timeSpan:1},D=function(e){function t(){var e,a,n,i;r(this,t);for(var o=arguments.length,c=Array(o),s=0;s<o;s++)c[s]=arguments[s];return a=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n.state=T,n.fetchData=function(e){var t=function(e){if(e.error)throw new Error(e.error);n.setState({data:e.data.rows})};f.default.ajax("/api/statistics/user/rank",e,t)},n.changeTimeSpan=function(e){e.preventDefault();var t=parseInt(e.target.getAttribute("data-value")),a=n.state;a.data;if(t!==a.timeSpan){var r={endTime:h.default.getNow(),page:1,size:6},l=void 0;l=1===t?h.default.getTodayStart():2===t?h.default.getWeekStart(new Date):h.default.getMonthStart(new Date),r.startTime=l,n.fetchData(r),n.setState({timeSpan:t})}},i=a,l(n,i)}return i(t,e),o(t,[{key:"componentDidMount",value:function(){var e={startTime:h.default.getTodayStart(),endTime:h.default.getNow(),page:1,size:6};this.fetchData(e)}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.timeSpan,n=t&&t.map(function(e,t){return s.default.createElement("li",{key:t},s.default.createElement("p",{className:"width15"},t+1),s.default.createElement("p",{className:"width45"},e.schoolName),s.default.createElement("p",{className:"width20 center"},e.total),s.default.createElement("p",{className:"width20 center"},e.newly))});return s.default.createElement("div",{className:"rank"},s.default.createElement("div",{className:"header"},s.default.createElement("h1",null,"\u7528\u6237\u6392\u884c\u699c"),s.default.createElement(u.Link,{to:"/stat/userRank"},"\u66f4\u591a")),s.default.createElement("div",{className:"rankContent"},s.default.createElement("div",{className:"timeSelectors"},s.default.createElement("a",{className:1===a?"active":"","data-value":1,onClick:this.changeTimeSpan,href:""},"\u672c\u65e5"),s.default.createElement("a",{className:2===a?"active":1===a?"noLeftBdr":"noRightBdr","data-value":2,onClick:this.changeTimeSpan,href:""},"\u672c\u5468"),s.default.createElement("a",{className:3===a?"active":"","data-value":3,onClick:this.changeTimeSpan,href:""},"\u672c\u6708")),s.default.createElement("ul",null,s.default.createElement("li",{className:"tableHeader"},s.default.createElement("p",{className:"width15"},"\u6392\u540d"),s.default.createElement("p",{className:"width45"},"\u5b66\u6821"),s.default.createElement("p",{className:"width20"},"\u603b\u7528\u6237"),s.default.createElement("p",{className:"width20"},"\u65b0\u589e\u7528\u6237")),n)))}}]),t}(c.Component);t.default=D},331:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={FILEADDR:"http://116.62.236.67:5080",FILESERVER:"http://116.62.236.67:5080/file/upload",PAGINATION:Math.floor(.67*window.document.body.clientHeight/50),TASKSIZE:12,SELECTWIDTH:140,SHORTSELECTOR:85,CHARTWIDTH:.65*(window.document.body.clientWidth-200),CHARTHEIGHT:300,BUILDINGTYPE:{1:"\u5bbf\u820d\u697c",2:"\u5176\u4ed6"},DEVICETYPE:{1:"\u70ed\u6c34\u5668",2:"\u996e\u6c34\u673a",3:"\u6d17\u8863\u673a",4:"\u5439\u98ce\u673a"},DEVICESTATUS:{1:"\u6b63\u5e38",2:"\u62a5\u4fee"},REPAIRSTATUS:{1:"\u5f85\u5ba1\u6838",2:"\u5f85\u6307\u6d3e",3:"\u5df2\u6307\u6d3e",4:"\u6b63\u5728\u7ef4\u4fee",5:"\u5ba1\u6838\u672a\u901a\u8fc7",6:"\u5df2\u62d2\u7edd",7:"\u5df2\u5b8c\u6210"},WATERUNIT:{1:"\u5428",2:"\u5347",3:"\u6beb\u5347"},WITHDRAWTIME:{1:"\u56fa\u5b9a\u65f6\u6bb5",2:"\u5177\u4f53\u65f6\u6bb5"},WEEKDAYS:{1:"\u65e5",2:"\u4e00",3:"\u4e8c",4:"\u4e09",5:"\u56db",6:"\u4e94",7:"\u516d"},NOTIFYTYPES:{1:"\u7d27\u6025\u516c\u544a",2:"\u7cfb\u7edf\u516c\u544a",3:"\u5ba2\u670d\u6d88\u606f"},ROLE:{1:"\u666e\u901a\u7528\u6237",2:"\u7ef4\u4fee\u5458",3:"\u7ba1\u7406\u5458",4:"\u8fd0\u8425",5:"\u5ba2\u670d",6:"\u7814\u53d1\u4eba\u5458"},GIFTTYPE:{1:"\u65b0\u4eba\u5206\u4eab",2:"\u4e0b\u5355\u5206\u4eab",3:"\u5151\u6362\u7801"},FUNDTYPE:{1:"\u63d0\u73b0",2:"\u5145\u503c"},BILLINGOPTIONS:{1:"\u6d41\u91cf\u8ba1\u8d39"},DEPOSITACTTYPE:{1:"\u5145\u503c\u4f18\u60e0",2:"\u8d60\u9001\u7ea2\u5305"},LOSTTYPE:{1:"\u5931\u7269",2:"\u62db\u9886"},TIMESPANS:{1:"\u672c\u65e5",2:"\u672c\u5468",3:"\u672c\u6708"},WITHDRAWTYPE:{1:"\u63d0\u73b0",2:"\u5145\u503c"},PRIORITY:{1:"\u6b63\u5e38\u5904\u7406",2:"\u4f18\u5148\u5904\u7406",3:"\u7d27\u6025\u5904\u7406"},WITHDRAWSTATUS:{1:"\u7b49\u5f85",2:"\u6210\u529f"},NOIMAGE:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%3F%3E%0A%3Csvg%20width%3D%22153%22%20height%3D%22153%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%3E%0A%20%3Cg%3E%0A%20%20%3Ctitle%3ENo%20image%3C/title%3E%0A%20%20%3Crect%20id%3D%22externRect%22%20height%3D%22150%22%20width%3D%22150%22%20y%3D%221.5%22%20x%3D%221.500024%22%20stroke-width%3D%223%22%20stroke%3D%22%23666666%22%20fill%3D%22%23e1e1e1%22/%3E%0A%20%20%3Ctext%20transform%3D%22matrix%286.66667%2C%200%2C%200%2C%206.66667%2C%20-960.5%2C%20-1099.33%29%22%20xml%3Aspace%3D%22preserve%22%20text-anchor%3D%22middle%22%20font-family%3D%22Fantasy%22%20font-size%3D%2214%22%20id%3D%22questionMark%22%20y%3D%22181.249569%22%20x%3D%22155.549819%22%20stroke-width%3D%220%22%20stroke%3D%22%23666666%22%20fill%3D%22%23000000%22%3E%3F%3C/text%3E%0A%20%3C/g%3E%0A%3C/svg%3E"};t.default=n}});